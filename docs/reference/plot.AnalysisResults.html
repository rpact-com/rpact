<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Plots the conditional power together with the likelihood function."><title>Analysis Results Plotting — plot.AnalysisResults • rpact</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Analysis Results Plotting — plot.AnalysisResults"><meta property="og:description" content="Plots the conditional power together with the likelihood function."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rpact</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.3.9.9224</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/rpact_getting_started.html">Getting started with rpact</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rpact-com/rpact/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Analysis Results Plotting</h1>
      <small class="dont-index">Source: <a href="https://github.com/rpact-com/rpact/blob/HEAD/R/class_analysis_results.R" class="external-link"><code>R/class_analysis_results.R</code></a></small>
      <div class="d-none name"><code>plot.AnalysisResults.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Plots the conditional power together with the likelihood function.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for AnalysisResults</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">y</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  type <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  nPlanned <span class="op">=</span> <span class="cn">NA_real_</span>,</span>
<span>  allocationRatioPlanned <span class="op">=</span> <span class="cn">NA_real_</span>,</span>
<span>  main <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>  xlab <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>  ylab <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>  legendTitle <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>  palette <span class="op">=</span> <span class="st">"Set1"</span>,</span>
<span>  legendPosition <span class="op">=</span> <span class="cn">NA_integer_</span>,</span>
<span>  showSource <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  grid <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  plotSettings <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>The analysis results at given stage, obtained from <code><a href="getAnalysisResults.html">getAnalysisResults()</a></code>.</p></dd>


<dt>y</dt>
<dd><p>Not available for this kind of plot (is only defined to be compatible to the generic plot function).</p></dd>


<dt>...</dt>
<dd><p>Optional <a href="param_three_dots_plot.html">plot arguments</a>. Furthermore the following arguments can be defined:</p><ul><li><p><code>thetaRange</code>: A range of assumed effect sizes if testing means or a survival design was specified.
Additionally, if testing means was selected, <code>assumedStDev</code> (assumed standard deviation)
can be specified (default is <code>1</code>).</p></li>
<li><p><code>piTreatmentRange</code>: A range of assumed rates pi1 to calculate the conditional power.
Additionally, if a two-sample comparison was selected, <code>pi2</code> can be specified (default is the value from
<code><a href="getAnalysisResults.html">getAnalysisResults()</a></code>).</p></li>
<li><p><code>directionUpper</code>: Specifies the direction of the alternative,
only applicable for one-sided testing; default is <code>TRUE</code>
which means that larger values of the test statistics yield smaller p-values.</p></li>
<li><p><code><a href="param_thetaH0.html">thetaH0</a></code>: The null hypothesis value, default is <code>0</code> for
the normal and the binary case, it is <code>1</code> for the survival case.
For testing a rate in one sample, a value thetaH0 in (0, 1) has to be specified for
defining the null hypothesis H0: <code>pi = thetaH0</code>.</p></li>
</ul></dd>


<dt>type</dt>
<dd><p>The plot type (default = 1). Note that at the moment only one type (the conditional power plot) is available.</p></dd>


<dt>nPlanned</dt>
<dd><p>The additional (i.e., "new" and not cumulative) sample size planned for each of the subsequent stages.
The argument must be a vector with length equal to the number of remaining stages and contain
the combined sample size from both treatment groups if two groups are considered. For survival outcomes,
it should contain the planned number of additional events.
For multi-arm designs, it is the per-comparison (combined) sample size.
For enrichment designs, it is the (combined) sample size for the considered sub-population.</p></dd>


<dt>allocationRatioPlanned</dt>
<dd><p>The planned allocation ratio <code>n1 / n2</code> for a two treatment groups
design, default is <code>1</code>. For multi-arm designs, it is the allocation ratio relating the active arm(s) to the control.
For simulating means and rates for a two treatment groups design, it can be a vector of length kMax, the number of stages.
It can be a vector of length kMax, too, for multi-arm and enrichment designs.
In these cases, a change of allocating subjects to treatment groups over the stages can be assessed.</p></dd>


<dt>main</dt>
<dd><p>The main title, default is <code>"Dataset"</code>.</p></dd>


<dt>xlab</dt>
<dd><p>The x-axis label, default is <code>"Stage"</code>.</p></dd>


<dt>ylab</dt>
<dd><p>The y-axis label.</p></dd>


<dt>legendTitle</dt>
<dd><p>The legend title, default is <code>""</code>.</p></dd>


<dt>palette</dt>
<dd><p>The palette, default is <code>"Set1"</code>.</p></dd>


<dt>legendPosition</dt>
<dd><p>The position of the legend.
By default (<code>NA_integer_</code>) the algorithm tries to find a suitable position.
Choose one of the following values to specify the position manually:</p><ul><li><p><code>-1</code>: no legend will be shown</p></li>
<li><p><code>NA</code>: the algorithm tries to find a suitable position</p></li>
<li><p><code>0</code>: legend position outside plot</p></li>
<li><p><code>1</code>: legend position left top</p></li>
<li><p><code>2</code>: legend position left center</p></li>
<li><p><code>3</code>: legend position left bottom</p></li>
<li><p><code>4</code>: legend position right top</p></li>
<li><p><code>5</code>: legend position right center</p></li>
<li><p><code>6</code>: legend position right bottom</p></li>
</ul></dd>


<dt>showSource</dt>
<dd><p>Logical. If <code>TRUE</code>, the parameter names of the object will
be printed which were used to create the plot; that may be, e.g.,
useful to check the values or to create own plots with the base R <code>plot</code> function.
Alternatively <code>showSource</code> can be defined as one of the following character values:</p><ul><li><p><code>"commands"</code>: returns a character vector with plot commands</p></li>
<li><p><code>"axes"</code>: returns a list with the axes definitions</p></li>
<li><p><code>"test"</code>: all plot commands will be validated with <code>eval(parse())</code> and
returned as character vector (function does not stop if an error occurs)</p></li>
<li><p><code>"validate"</code>: all plot commands will be validated with <code>eval(parse())</code> and
returned as character vector (function stops if an error occurs)</p></li>
</ul><p>Note: no plot object will be returned if <code>showSource</code> is a character.</p></dd>


<dt>grid</dt>
<dd><p>An integer value specifying the output of multiple plots.
By default (<code>1</code>) a list of <code>ggplot</code> objects will be returned.
If a <code>grid</code> value &gt; 1 was specified, a grid plot will be returned
if the number of plots is &lt;= specified <code>grid</code> value;
a list of <code>ggplot</code> objects will be returned otherwise.
If <code>grid = 0</code> is specified, all plots will be created using <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></code> command
and a list of <code>ggplot</code> objects will be returned invisible.
Note that one of the following packages must be installed to create a grid plot:
'ggpubr', 'gridExtra', or 'cowplot'.</p></dd>


<dt>plotSettings</dt>
<dd><p>An object of class <code>PlotSettings</code> created by <code><a href="getPlotSettings.html">getPlotSetting()s</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Returns a <code>ggplot2</code> object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The conditional power is calculated only if effect size and sample size is specified.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">design</span> <span class="op">&lt;-</span> <span class="fu"><a href="getDesignGroupSequential.html">getDesignGroupSequential</a></span><span class="op">(</span>kMax <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dataExample</span> <span class="op">&lt;-</span> <span class="fu"><a href="getDataset.html">getDataset</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">30</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    means <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">51</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    stDevs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">130</span>, <span class="fl">140</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="getAnalysisResults.html">getAnalysisResults</a></span><span class="op">(</span>design <span class="op">=</span> <span class="va">design</span>, </span></span>
<span class="r-in"><span>    dataInput <span class="op">=</span> <span class="va">dataExample</span>, thetaH0 <span class="op">=</span> <span class="fl">20</span>, </span></span>
<span class="r-in"><span>    nPlanned <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">30</span><span class="op">)</span>, thetaH1 <span class="op">=</span> <span class="fl">1.5</span>, stage <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> </span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">result</span>, thetaRange <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Gernot Wassmer, Friedrich Pahlke.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

