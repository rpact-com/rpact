<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Get Analysis Results — getAnalysisResults • rpact</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get Analysis Results — getAnalysisResults"><meta name="description" content="Calculates and returns the analysis results for the specified design and data."><meta property="og:description" content="Calculates and returns the analysis results for the specified design and data."><meta property="og:image" content="https://rpact-com.github.io/rpact/logo.png"><meta name="keywords" content="rpact, adaptive designs, clinical trials, simulation, analysis, rstats, Shiny, r-project, R package"><link href="reference/figures/favicon.ico" rel="icon"><link href="reference/figures/favicon.ico" rel="apple-touch-icon"><link href="reference/figures/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rpact</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/rpact_getting_started.html">Getting started with rpact</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rpact-com/rpact/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Get Analysis Results</h1>
      <small class="dont-index">Source: <a href="https://github.com/rpact-com/rpact/blob/v4.2.0/R/f_analysis_base.R" class="external-link"><code>R/f_analysis_base.R</code></a></small>
      <div class="d-none name"><code>getAnalysisResults.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculates and returns the analysis results for the specified design and data.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">getAnalysisResults</span><span class="op">(</span></span>
<span>  <span class="va">design</span>,</span>
<span>  <span class="va">dataInput</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  directionUpper <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  thetaH0 <span class="op">=</span> <span class="cn">NA_real_</span>,</span>
<span>  nPlanned <span class="op">=</span> <span class="cn">NA_real_</span>,</span>
<span>  allocationRatioPlanned <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  stage <span class="op">=</span> <span class="cn">NA_integer_</span>,</span>
<span>  maxInformation <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  informationEpsilon <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-design">design<a class="anchor" aria-label="anchor" href="#arg-design"></a></dt>
<dd><p>The trial design.</p></dd>


<dt id="arg-datainput">dataInput<a class="anchor" aria-label="anchor" href="#arg-datainput"></a></dt>
<dd><p>The summary data used for calculating the test results.
This is either an element of <code>DatasetMeans</code>, of <code>DatasetRates</code>, or of <code>DatasetSurvival</code>
and should be created with the function <code><a href="getDataset.html">getDataset()</a></code>.
For more information see <code><a href="getDataset.html">getDataset()</a></code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Further arguments to be passed to methods (cf., separate functions in "See Also" below), e.g.,</p><dl><dt><code>thetaH1</code> and <code>stDevH1</code> (or <code>assumedStDev</code> / <code>assumedStDevs</code>),
<code>pi1</code>, <code>pi2</code>, or <code>piTreatments</code>, <code>piControl(s)</code></dt>
<dd><p>The assumed effect size, standard deviation or rates to calculate the conditional power if <code>nPlanned</code>
is specified. For survival designs, <code>thetaH1</code> refers to the hazard ratio.
For one-armed trials with binary outcome, only <code>pi1</code> can be specified, for two-armed trials with binary outcome,
<code>pi1</code> and <code>pi2</code> can be specified referring to the assumed treatment and control rate, respectively.
In multi-armed or enrichment designs, you can
specify a value or a vector with elements referring to the treatment arms or the sub-populations,
respectively. For testing rates, the parameters to be specified are <code>piTreatments</code> and <code>piControl</code>
(multi-arm designs) and <code>piTreatments</code> and <code>piControls</code> (enrichment designs).<br>
If not specified, the conditional power is calculated under the assumption of observed effect sizes,
standard deviations, rates, or hazard ratios.</p></dd>

<dt><code>iterations</code></dt>
<dd><p>Iterations for simulating the power for Fisher's combination test.
If the power for more than one remaining stages is to be determined for
Fisher's combination test, it is estimated via simulation with specified <br><code>iterations</code>, the default is <code>1000</code>.</p></dd>

<dt><code>seed</code></dt>
<dd><p>Seed for simulating the conditional power for Fisher's combination test.
See above, default is a random seed.</p></dd>

<dt><code>normalApproximation</code></dt>
<dd><p>The type of computation of the p-values. Default is <code>FALSE</code> for
testing means (i.e., the t test is used) and <code>TRUE</code> for testing rates and the hazard ratio.
For testing rates, if <code>normalApproximation = FALSE</code> is specified, the binomial test
(one sample) or the exact test of Fisher (two samples) is used for calculating the p-values.
In the survival setting, <code>normalApproximation = FALSE</code> has no effect.</p></dd>

<dt><code>equalVariances</code></dt>
<dd><p>The type of t test. For testing means in two treatment groups, either
the t test assuming that the variances are equal or the t test without assuming this,
i.e., the test of Welch-Satterthwaite is calculated, default is <code>TRUE</code>.</p></dd>

<dt><code>intersectionTest</code></dt>
<dd><p>Defines the multiple test for the intersection
hypotheses in the closed system of hypotheses when testing multiple hypotheses.
Five options are available in multi-arm designs: <code>"Dunnett"</code>, <code>"Bonferroni"</code>, <code>"Simes"</code>,
<code>"Sidak"</code>, and <code>"Hierarchical"</code>, default is <code>"Dunnett"</code>.
Four options are available in population enrichment designs: <code>"SpiessensDebois"</code> (one subset only),
<code>"Bonferroni"</code>, <code>"Simes"</code>, and <code>"Sidak"</code>, default is <code>"Simes"</code>.</p></dd>

<dt><code>varianceOption</code></dt>
<dd><p>Defines the way to calculate the variance in multiple treatment arms (&gt; 2)
or population enrichment designs for testing means. For multiple arms, three options are available:
<code>"overallPooled"</code>, <code>"pairwisePooled"</code>, and <code>"notPooled"</code>, default is <code>"overallPooled"</code>.
For enrichment designs, the options are: <code>"pooled"</code>, <code>"pooledFromFull"</code> (one subset only),
and <code>"notPooled"</code>, default is <code>"pooled"</code>.</p></dd>

<dt><code>stratifiedAnalysis</code></dt>
<dd><p>For enrichment designs, typically a stratified analysis should be chosen.
For testing means and rates, also a non-stratified analysis based on overall data can be performed.
For survival data, only a stratified analysis is possible (see Brannath et al., 2009), default is <code>TRUE</code>.</p></dd>


</dl></dd>


<dt id="arg-directionupper">directionUpper<a class="anchor" aria-label="anchor" href="#arg-directionupper"></a></dt>
<dd><p>Logical. Specifies the direction of the alternative,
only applicable for one-sided testing; default is <code>TRUE</code>
which means that larger values of the test statistics yield smaller p-values.</p></dd>


<dt id="arg-thetah-">thetaH0<a class="anchor" aria-label="anchor" href="#arg-thetah-"></a></dt>
<dd><p>The null hypothesis value,
default is <code>0</code> for the normal and the binary case (testing means and rates, respectively),
it is <code>1</code> for the survival case (testing the hazard ratio).<br><br>
For non-inferiority designs, <code>thetaH0</code> is the non-inferiority bound.
That is, in case of (one-sided) testing of</p><ul><li><p><em>means</em>: a value <code>!= 0</code>
(or a value <code>!= 1</code> for testing the mean ratio) can be specified.</p></li>
<li><p><em>rates</em>: a value <code>!= 0</code>
(or a value <code>!= 1</code> for testing the risk ratio <code>pi1 / pi2</code>) can be specified.</p></li>
<li><p><em>survival data</em>: a bound for testing H0: <code>hazard ratio = thetaH0 != 1</code> can be specified.</p></li>
<li><p><em>count data</em>: a bound for testing H0: <code>lambda1 / lambda2 = thetaH0 != 1</code> can be specified.</p></li>
</ul><p>For testing a rate in one sample, a value <code>thetaH0</code> in (0, 1) has to be specified for
defining the null hypothesis H0: <code>pi = thetaH0</code>.</p></dd>


<dt id="arg-nplanned">nPlanned<a class="anchor" aria-label="anchor" href="#arg-nplanned"></a></dt>
<dd><p>The additional (i.e., "new" and not cumulative) sample size planned for each of the subsequent stages.
The argument must be a vector with length equal to the number of remaining stages and contain
the combined sample size from both treatment groups if two groups are considered. For survival outcomes,
it should contain the planned number of additional events.
For multi-arm designs, it is the per-comparison (combined) sample size.
For enrichment designs, it is the (combined) sample size for the considered sub-population.</p></dd>


<dt id="arg-allocationratioplanned">allocationRatioPlanned<a class="anchor" aria-label="anchor" href="#arg-allocationratioplanned"></a></dt>
<dd><p>The planned allocation ratio <code>n1 / n2</code> for a two treatment groups
design, default is <code>1</code>. For multi-arm designs, it is the allocation ratio relating the active arm(s) to the control.
For simulating means and rates for a two treatment groups design, it can be a vector of length <code>kMax</code>, the number of stages.
It can be a vector of length <code>kMax</code>, too, for multi-arm and enrichment designs.
In these cases, a change of allocating subjects to treatment groups over the stages can be assessed.
Note that internally <code>allocationRatioPlanned</code> is treated as a vector of length <code>kMax</code>, not a scalar.</p></dd>


<dt id="arg-stage">stage<a class="anchor" aria-label="anchor" href="#arg-stage"></a></dt>
<dd><p>The stage number (optional). Default: total number of existing stages in the data input.</p></dd>


<dt id="arg-maxinformation">maxInformation<a class="anchor" aria-label="anchor" href="#arg-maxinformation"></a></dt>
<dd><p>Positive value specifying the maximum information.</p></dd>


<dt id="arg-informationepsilon">informationEpsilon<a class="anchor" aria-label="anchor" href="#arg-informationepsilon"></a></dt>
<dd><p>Positive integer value specifying the absolute information epsilon, which
defines the maximum distance from the observed information to the maximum information that causes the final analysis.
Updates at the final analysis in case the observed information at the final
analysis is smaller ("under-running") than the planned maximum information <code>maxInformation</code>, default is 0.
Alternatively, a floating-point number &gt; 0 and &lt; 1 can be specified to define a relative information epsilon.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns an <code><a href="AnalysisResults.html">AnalysisResults</a></code> object.
The following generics (R generic functions) are available for this result object:</p><ul><li><p><code><a href="names.AnalysisResults.html">names</a></code> to obtain the field names,</p></li>
<li><p><code><a href="print.ParameterSet.html">print()</a></code> to print the object,</p></li>
<li><p><code><a href="summary.AnalysisResults.html">summary()</a></code> to display a summary of the object,</p></li>
<li><p><code><a href="plot.AnalysisResults.html">plot()</a></code> to plot the object,</p></li>
<li><p><code><a href="as.data.frame.AnalysisResults.html">as.data.frame()</a></code> to coerce the object to a <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></code>,</p></li>
<li><p><code><a href="as.matrix.FieldSet.html">as.matrix()</a></code> to coerce the object to a <code><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></code>.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Given a design and a dataset, at given stage the function calculates the test results
(effect sizes, stage-wise test statistics and p-values, overall p-values and test statistics,
conditional rejection probability (CRP), conditional power, Repeated Confidence Intervals (RCIs),
repeated overall p-values, and final stage p-values, median unbiased effect estimates,
and final confidence intervals.</p>
<p>For designs with more than two treatments arms (multi-arm designs) or enrichment designs
a closed combination test is performed.
That is, additionally the statistics to be used in a closed testing procedure are provided.</p>
<p>The conditional power is calculated if the planned sample size for the subsequent stages (<code>nPlanned</code>)
is specified. The conditional power is calculated either under the assumption of the observed effect or
under the assumption of an assumed effect, that has to be specified (see above).<br>
For testing rates in a two-armed trial, pi1 and pi2 typically refer to the rates in the treatment
and the control group, respectively. This is not mandatory, however, and so pi1 and pi2 can be interchanged.
In many-to-one multi-armed trials, piTreatments and piControl refer to the rates in the treatment arms and
the one control arm, and so they cannot be interchanged. piTreatments and piControls in enrichment designs
can principally be interchanged, but we use the plural form to indicate that the rates can be differently
specified for the sub-populations.</p>
<p>Median unbiased effect estimates and confidence intervals are calculated if
a group sequential design or an inverse normal combination test design was chosen, i.e., it is not applicable
for Fisher's p-value combination test design.
For the inverse normal combination test design with more than two stages, a warning informs that the validity
of the confidence interval is theoretically shown only if no sample size change was performed.</p>
<p>A final stage p-value for Fisher's combination test is calculated only if a two-stage design was chosen.
For Fisher's combination test, the conditional power for more than one remaining stages is estimated via simulation.</p>
<p>Final stage p-values, median unbiased effect estimates, and final confidence intervals are not calculated
for multi-arm and enrichment designs.</p>
    </div>
    <div class="section level2">
    <h2 id="how-to-get-help-for-generic-functions">How to get help for generic functions<a class="anchor" aria-label="anchor" href="#how-to-get-help-for-generic-functions"></a></h2>


<p>Click on the link of a generic in the list above to go directly to the help documentation of
the <code>rpact</code> specific implementation of the generic.
Note that you can use the R function <code><a href="https://rdrr.io/r/utils/methods.html" class="external-link">methods</a></code> to get all the methods of a generic and
to identify the object specific name of it, e.g.,
use <code>methods("plot")</code> to get all the methods for the <code>plot</code> generic.
There you can find, e.g., <code>plot.AnalysisResults</code> and
obtain the specific help documentation linked above by typing <code><a href="plot.AnalysisResults.html">?plot.AnalysisResults</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="getObservedInformationRates.html">getObservedInformationRates()</a></code></p>
<p>Other analysis functions:
<code><a href="getClosedCombinationTestResults.html">getClosedCombinationTestResults</a>()</code>,
<code><a href="getClosedConditionalDunnettTestResults.html">getClosedConditionalDunnettTestResults</a>()</code>,
<code><a href="getConditionalPower.html">getConditionalPower</a>()</code>,
<code><a href="getConditionalRejectionProbabilities.html">getConditionalRejectionProbabilities</a>()</code>,
<code><a href="getFinalConfidenceInterval.html">getFinalConfidenceInterval</a>()</code>,
<code><a href="getFinalPValue.html">getFinalPValue</a>()</code>,
<code><a href="getRepeatedConfidenceIntervals.html">getRepeatedConfidenceIntervals</a>()</code>,
<code><a href="getRepeatedPValues.html">getRepeatedPValues</a>()</code>,
<code><a href="getStageResults.html">getStageResults</a>()</code>,
<code><a href="getTestActions.html">getTestActions</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Example 1 One-Sample t Test</span></span></span>
<span class="r-in"><span><span class="co"># Perform an analysis within a three-stage group sequential design with</span></span></span>
<span class="r-in"><span><span class="co"># O'Brien &amp; Fleming boundaries and one-sample data with a continuous outcome</span></span></span>
<span class="r-in"><span><span class="co"># where H0: mu = 1.2 is to be tested</span></span></span>
<span class="r-in"><span><span class="va">dsnGS</span> <span class="op">&lt;-</span> <span class="fu"><a href="getDesignGroupSequential.html">getDesignGroupSequential</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dataMeans</span> <span class="op">&lt;-</span> <span class="fu"><a href="getDataset.html">getDataset</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">30</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    means <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.96</span>, <span class="fl">1.76</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    stDevs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.92</span>, <span class="fl">2.01</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">getAnalysisResults</span><span class="op">(</span>design <span class="op">=</span> <span class="va">dsnGS</span>, dataInput <span class="op">=</span> <span class="va">dataMeans</span>, thetaH0 <span class="op">=</span> <span class="fl">1.2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># You can obtain the results when performing an inverse normal combination test</span></span></span>
<span class="r-in"><span><span class="co"># with these data by using the commands</span></span></span>
<span class="r-in"><span><span class="va">dsnIN</span> <span class="op">&lt;-</span> <span class="fu"><a href="getDesignInverseNormal.html">getDesignInverseNormal</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">getAnalysisResults</span><span class="op">(</span>design <span class="op">=</span> <span class="va">dsnIN</span>, dataInput <span class="op">=</span> <span class="va">dataMeans</span>, thetaH0 <span class="op">=</span> <span class="fl">1.2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 2 Use Function Approach with Time to Event Data</span></span></span>
<span class="r-in"><span><span class="co"># Perform an analysis within a use function approach according to an</span></span></span>
<span class="r-in"><span><span class="co"># O'Brien &amp; Fleming type use function and survival data where</span></span></span>
<span class="r-in"><span><span class="co"># where H0: hazard ratio = 1 is to be tested. The events were observed</span></span></span>
<span class="r-in"><span><span class="co"># over time and maxInformation = 120, informationEpsilon = 5 specifies</span></span></span>
<span class="r-in"><span><span class="co"># that 116 &gt; 120 - 5 observed events defines the final analysis.</span></span></span>
<span class="r-in"><span><span class="va">design</span> <span class="op">&lt;-</span> <span class="fu"><a href="getDesignGroupSequential.html">getDesignGroupSequential</a></span><span class="op">(</span>typeOfDesign <span class="op">=</span> <span class="st">"asOF"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dataSurvival</span> <span class="op">&lt;-</span> <span class="fu"><a href="getDataset.html">getDataset</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    cumulativeEvents <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">33</span>, <span class="fl">72</span>, <span class="fl">116</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    cumulativeLogRanks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.33</span>, <span class="fl">1.88</span>, <span class="fl">1.902</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">getAnalysisResults</span><span class="op">(</span><span class="va">design</span>,</span></span>
<span class="r-in"><span>    dataInput <span class="op">=</span> <span class="va">dataSurvival</span>,</span></span>
<span class="r-in"><span>    maxInformation <span class="op">=</span> <span class="fl">120</span>, informationEpsilon <span class="op">=</span> <span class="fl">5</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 3 Multi-Arm Design</span></span></span>
<span class="r-in"><span><span class="co"># In a four-stage combination test design with O'Brien &amp; Fleming boundaries</span></span></span>
<span class="r-in"><span><span class="co"># at the first stage the second treatment arm was dropped. With the Bonferroni</span></span></span>
<span class="r-in"><span><span class="co"># intersection test, the results together with the CRP, conditional power</span></span></span>
<span class="r-in"><span><span class="co"># (assuming a total of 40 subjects for each comparison and effect sizes 0.5</span></span></span>
<span class="r-in"><span><span class="co"># and 0.8 for treatment arm 1 and 3, respectively, and standard deviation 1.2),</span></span></span>
<span class="r-in"><span><span class="co"># RCIs and p-values of a closed adaptive test procedure are</span></span></span>
<span class="r-in"><span><span class="co"># obtained as follows with the given data (treatment arm 4 refers to the</span></span></span>
<span class="r-in"><span><span class="co"># reference group; displayed with summary and plot commands):</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="getDataset.html">getDataset</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    n1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">22</span>, <span class="fl">23</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    n2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">21</span>, <span class="cn">NA</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    n3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">25</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    n4 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">27</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    means1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.63</span>, <span class="fl">1.51</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    means2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.4</span>, <span class="cn">NA</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    means3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.91</span>, <span class="fl">0.95</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    means4 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.83</span>, <span class="fl">0.75</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    stds1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.2</span>, <span class="fl">1.4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    stds2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.3</span>, <span class="cn">NA</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    stds3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.1</span>, <span class="fl">1.14</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    stds4 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.02</span>, <span class="fl">1.18</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">design</span> <span class="op">&lt;-</span> <span class="fu"><a href="getDesignInverseNormal.html">getDesignInverseNormal</a></span><span class="op">(</span>kMax <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">getAnalysisResults</span><span class="op">(</span><span class="va">design</span>,</span></span>
<span class="r-in"><span>    dataInput <span class="op">=</span> <span class="va">data</span>, intersectionTest <span class="op">=</span> <span class="st">"Bonferroni"</span>,</span></span>
<span class="r-in"><span>    nPlanned <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">40</span>, <span class="fl">40</span><span class="op">)</span>, thetaH1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="cn">NA</span>, <span class="fl">0.8</span><span class="op">)</span>, assumedStDevs <span class="op">=</span> <span class="fl">1.2</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">x</span>, thetaRange <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.8</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">design</span> <span class="op">&lt;-</span> <span class="fu"><a href="getDesignConditionalDunnett.html">getDesignConditionalDunnett</a></span><span class="op">(</span>secondStageConditioning <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu">getAnalysisResults</span><span class="op">(</span><span class="va">design</span>,</span></span>
<span class="r-in"><span>    dataInput <span class="op">=</span> <span class="va">data</span>,</span></span>
<span class="r-in"><span>    nPlanned <span class="op">=</span> <span class="fl">40</span>, thetaH1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="cn">NA</span>, <span class="fl">0.8</span><span class="op">)</span>, assumedStDevs <span class="op">=</span> <span class="fl">1.2</span>, stage <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">y</span>, thetaRange <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.4</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 4 Enrichment Design</span></span></span>
<span class="r-in"><span><span class="co"># Perform an two-stage enrichment design analysis with O'Brien &amp; Fleming boundaries</span></span></span>
<span class="r-in"><span><span class="co"># where one sub-population (S1) and a full population (F) are considered as primary</span></span></span>
<span class="r-in"><span><span class="co"># analysis sets. At interim, S1 is selected for further analysis and the sample</span></span></span>
<span class="r-in"><span><span class="co"># size is increased accordingly. With the Spiessens &amp; Debois intersection test,</span></span></span>
<span class="r-in"><span><span class="co"># the results of a closed adaptive test procedure together with the CRP, repeated</span></span></span>
<span class="r-in"><span><span class="co"># RCIs and p-values are obtained as follows with the given data (displayed with</span></span></span>
<span class="r-in"><span><span class="co"># summary and plot commands):</span></span></span>
<span class="r-in"><span><span class="va">design</span> <span class="op">&lt;-</span> <span class="fu"><a href="getDesignInverseNormal.html">getDesignInverseNormal</a></span><span class="op">(</span>kMax <span class="op">=</span> <span class="fl">2</span>, typeOfDesign <span class="op">=</span> <span class="st">"OF"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dataS1</span> <span class="op">&lt;-</span> <span class="fu"><a href="getDataset.html">getDataset</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    means1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">13.2</span>, <span class="fl">12.8</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    means2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">11.1</span>, <span class="fl">10.8</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    stDev1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3.4</span>, <span class="fl">3.3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    stDev2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2.9</span>, <span class="fl">3.5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    n1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">21</span>, <span class="fl">42</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    n2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">19</span>, <span class="fl">39</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dataNotS1</span> <span class="op">&lt;-</span> <span class="fu"><a href="getDataset.html">getDataset</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    means1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">11.8</span>, <span class="cn">NA</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    means2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10.5</span>, <span class="cn">NA</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    stDev1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3.6</span>, <span class="cn">NA</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    stDev2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2.7</span>, <span class="cn">NA</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    n1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">15</span>, <span class="cn">NA</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    n2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">13</span>, <span class="cn">NA</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dataBoth</span> <span class="op">&lt;-</span> <span class="fu"><a href="getDataset.html">getDataset</a></span><span class="op">(</span>S1 <span class="op">=</span> <span class="va">dataS1</span>, R <span class="op">=</span> <span class="va">dataNotS1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">getAnalysisResults</span><span class="op">(</span><span class="va">design</span>,</span></span>
<span class="r-in"><span>    dataInput <span class="op">=</span> <span class="va">dataBoth</span>,</span></span>
<span class="r-in"><span>    intersectionTest <span class="op">=</span> <span class="st">"SpiessensDebois"</span>,</span></span>
<span class="r-in"><span>    varianceOption <span class="op">=</span> <span class="st">"pooledFromFull"</span>,</span></span>
<span class="r-in"><span>    stratifiedAnalysis <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gernot Wassmer, Friedrich Pahlke.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

