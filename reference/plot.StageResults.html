<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Stage Results Plotting — plot.StageResults • rpact</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Stage Results Plotting — plot.StageResults"><meta name="description" content="Plots the conditional power together with the likelihood function."><meta property="og:description" content="Plots the conditional power together with the likelihood function."><meta property="og:image" content="https://rpact-com.github.io/rpact/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rpact</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.0.1.9262</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/rpact_getting_started.html">Getting started with rpact</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rpact-com/rpact/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Stage Results Plotting</h1>
      <small class="dont-index">Source: <a href="https://github.com/rpact-com/rpact/blob/main/R/class_analysis_stage_results.R" class="external-link"><code>R/class_analysis_stage_results.R</code></a></small>
      <div class="d-none name"><code>plot.StageResults.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Plots the conditional power together with the likelihood function.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'StageResults'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">y</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  type <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  <span class="va">nPlanned</span>,</span>
<span>  allocationRatioPlanned <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  main <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>  xlab <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>  ylab <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>  legendTitle <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>  palette <span class="op">=</span> <span class="st">"Set1"</span>,</span>
<span>  legendPosition <span class="op">=</span> <span class="cn">NA_integer_</span>,</span>
<span>  showSource <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  plotSettings <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>The stage results at given stage, obtained from <code><a href="getStageResults.html">getStageResults()</a></code> or
<code><a href="getAnalysisResults.html">getAnalysisResults()</a></code>.</p></dd>


<dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>Not available for this kind of plot (is only defined to be compatible to the generic plot function).</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Optional <a href="param_three_dots_plot.html">plot arguments</a>. Furthermore the following arguments can be defined:</p><ul><li><p><code>thetaRange</code>: A range of assumed effect sizes if testing means or a survival design was specified.
Additionally, if testing means was selected, an assumed standard deviation can be specified (default is 1).</p></li>
<li><p><code>piTreatmentRange</code>: A range of assumed rates pi1 to calculate the conditional power.
Additionally, if a two-sample comparison was selected, pi2 can be specified (default is the value from
<code><a href="getAnalysisResults.html">getAnalysisResults()</a></code>).</p></li>
<li><p><code>directionUpper</code>: Specifies the direction of the alternative,
only applicable for one-sided testing; default is <code>TRUE</code>
which means that larger values of the test statistics yield smaller p-values.</p></li>
<li><p><code><a href="param_thetaH0.html">thetaH0</a></code>: The null hypothesis value, default is 0 for the normal and the binary case,
it is 1 for the survival case.
For testing a rate in one sample, a value thetaH0 in (0,1) has to be specified for
defining the null hypothesis H0: pi = thetaH0.</p></li>
</ul></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>The plot type (default = 1). Note that at the moment only one type
(the conditional power plot) is available.</p></dd>


<dt id="arg-nplanned">nPlanned<a class="anchor" aria-label="anchor" href="#arg-nplanned"></a></dt>
<dd><p>The additional (i.e., "new" and not cumulative) sample size planned for each of the subsequent stages.
The argument must be a vector with length equal to the number of remaining stages and contain
the combined sample size from both treatment groups if two groups are considered. For survival outcomes,
it should contain the planned number of additional events.
For multi-arm designs, it is the per-comparison (combined) sample size.
For enrichment designs, it is the (combined) sample size for the considered sub-population.</p></dd>


<dt id="arg-allocationratioplanned">allocationRatioPlanned<a class="anchor" aria-label="anchor" href="#arg-allocationratioplanned"></a></dt>
<dd><p>The planned allocation ratio <code>n1 / n2</code> for a two treatment groups
design, default is <code>1</code>. For multi-arm designs, it is the allocation ratio relating the active arm(s) to the control.
For simulating means and rates for a two treatment groups design, it can be a vector of length <code>kMax</code>, the number of stages.
It can be a vector of length kMax, too, for multi-arm and enrichment designs.
In these cases, a change of allocating subjects to treatment groups over the stages can be assessed.
Note that internally <code>allocationRatioPlanned</code> is treated as a vector of length <code>kMax</code>, not a scalar.</p></dd>


<dt id="arg-main">main<a class="anchor" aria-label="anchor" href="#arg-main"></a></dt>
<dd><p>The main title.</p></dd>


<dt id="arg-xlab">xlab<a class="anchor" aria-label="anchor" href="#arg-xlab"></a></dt>
<dd><p>The x-axis label.</p></dd>


<dt id="arg-ylab">ylab<a class="anchor" aria-label="anchor" href="#arg-ylab"></a></dt>
<dd><p>The y-axis label.</p></dd>


<dt id="arg-legendtitle">legendTitle<a class="anchor" aria-label="anchor" href="#arg-legendtitle"></a></dt>
<dd><p>The legend title.</p></dd>


<dt id="arg-palette">palette<a class="anchor" aria-label="anchor" href="#arg-palette"></a></dt>
<dd><p>The palette, default is <code>"Set1"</code>.</p></dd>


<dt id="arg-legendposition">legendPosition<a class="anchor" aria-label="anchor" href="#arg-legendposition"></a></dt>
<dd><p>The position of the legend.
By default (<code>NA_integer_</code>) the algorithm tries to find a suitable position.
Choose one of the following values to specify the position manually:</p><ul><li><p><code>-1</code>: no legend will be shown</p></li>
<li><p><code>NA</code>: the algorithm tries to find a suitable position</p></li>
<li><p><code>0</code>: legend position outside plot</p></li>
<li><p><code>1</code>: legend position left top</p></li>
<li><p><code>2</code>: legend position left center</p></li>
<li><p><code>3</code>: legend position left bottom</p></li>
<li><p><code>4</code>: legend position right top</p></li>
<li><p><code>5</code>: legend position right center</p></li>
<li><p><code>6</code>: legend position right bottom</p></li>
</ul></dd>


<dt id="arg-showsource">showSource<a class="anchor" aria-label="anchor" href="#arg-showsource"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, the parameter names of the object will
be printed which were used to create the plot; that may be, e.g.,
useful to check the values or to create own plots with the base R <code>plot</code> function.
Alternatively <code>showSource</code> can be defined as one of the following character values:</p><ul><li><p><code>"commands"</code>: returns a character vector with plot commands</p></li>
<li><p><code>"axes"</code>: returns a list with the axes definitions</p></li>
<li><p><code>"test"</code>: all plot commands will be validated with <code>eval(parse())</code> and
returned as character vector (function does not stop if an error occurs)</p></li>
<li><p><code>"validate"</code>: all plot commands will be validated with <code>eval(parse())</code> and
returned as character vector (function stops if an error occurs)</p></li>
</ul><p>Note: no plot object will be returned if <code>showSource</code> is a character.</p></dd>


<dt id="arg-plotsettings">plotSettings<a class="anchor" aria-label="anchor" href="#arg-plotsettings"></a></dt>
<dd><p>An object of class <code>PlotSettings</code> created by <code><a href="getPlotSettings.html">getPlotSettings()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns a <code>ggplot2</code> object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Generic function to plot all kinds of stage results.
The conditional power is calculated only if effect size and sample size is specified.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">design</span> <span class="op">&lt;-</span> <span class="fu"><a href="getDesignGroupSequential.html">getDesignGroupSequential</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    kMax <span class="op">=</span> <span class="fl">4</span>, alpha <span class="op">=</span> <span class="fl">0.025</span>,</span></span>
<span class="r-in"><span>    informationRates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.5</span>, <span class="fl">0.8</span>, <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    typeOfDesign <span class="op">=</span> <span class="st">"WT"</span>, deltaWT <span class="op">=</span> <span class="fl">0.25</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dataExample</span> <span class="op">&lt;-</span> <span class="fu"><a href="getDataset.html">getDataset</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">30</span>, <span class="fl">30</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    means <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">51</span>, <span class="fl">55</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    stDevs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">130</span>, <span class="fl">140</span>, <span class="fl">120</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">stageResults</span> <span class="op">&lt;-</span> <span class="fu"><a href="getStageResults.html">getStageResults</a></span><span class="op">(</span><span class="va">design</span>, <span class="va">dataExample</span>, thetaH0 <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">stageResults</span>, nPlanned <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">30</span><span class="op">)</span>, thetaRange <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gernot Wassmer, Friedrich Pahlke.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

