<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Get Design Inverse Normal — getDesignInverseNormal • rpact</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get Design Inverse Normal — getDesignInverseNormal"><meta name="description" content="Provides adjusted boundaries and defines a group sequential design for its use in
the inverse normal combination test."><meta property="og:description" content="Provides adjusted boundaries and defines a group sequential design for its use in
the inverse normal combination test."><meta property="og:image" content="https://rpact-com.github.io/rpact/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rpact</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/rpact_getting_started.html">Getting started with rpact</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rpact-com/rpact/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Get Design Inverse Normal</h1>
      <small class="dont-index">Source: <a href="https://github.com/rpact-com/rpact/blob/v4.1.0/R/f_design_group_sequential.R" class="external-link"><code>R/f_design_group_sequential.R</code></a></small>
      <div class="d-none name"><code>getDesignInverseNormal.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Provides adjusted boundaries and defines a group sequential design for its use in
the inverse normal combination test.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">getDesignInverseNormal</span><span class="op">(</span></span>
<span>  <span class="va">...</span>,</span>
<span>  kMax <span class="op">=</span> <span class="cn">NA_integer_</span>,</span>
<span>  alpha <span class="op">=</span> <span class="cn">NA_real_</span>,</span>
<span>  beta <span class="op">=</span> <span class="cn">NA_real_</span>,</span>
<span>  sided <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  informationRates <span class="op">=</span> <span class="cn">NA_real_</span>,</span>
<span>  futilityBounds <span class="op">=</span> <span class="cn">NA_real_</span>,</span>
<span>  typeOfDesign <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"OF"</span>, <span class="st">"P"</span>, <span class="st">"WT"</span>, <span class="st">"PT"</span>, <span class="st">"HP"</span>, <span class="st">"WToptimum"</span>, <span class="st">"asP"</span>, <span class="st">"asOF"</span>, <span class="st">"asKD"</span>,</span>
<span>    <span class="st">"asHSD"</span>, <span class="st">"asUser"</span>, <span class="st">"noEarlyEfficacy"</span><span class="op">)</span>,</span>
<span>  deltaWT <span class="op">=</span> <span class="cn">NA_real_</span>,</span>
<span>  deltaPT1 <span class="op">=</span> <span class="cn">NA_real_</span>,</span>
<span>  deltaPT0 <span class="op">=</span> <span class="cn">NA_real_</span>,</span>
<span>  optimizationCriterion <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ASNH1"</span>, <span class="st">"ASNIFH1"</span>, <span class="st">"ASNsum"</span><span class="op">)</span>,</span>
<span>  gammaA <span class="op">=</span> <span class="cn">NA_real_</span>,</span>
<span>  typeBetaSpending <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"none"</span>, <span class="st">"bsP"</span>, <span class="st">"bsOF"</span>, <span class="st">"bsKD"</span>, <span class="st">"bsHSD"</span>, <span class="st">"bsUser"</span><span class="op">)</span>,</span>
<span>  userAlphaSpending <span class="op">=</span> <span class="cn">NA_real_</span>,</span>
<span>  userBetaSpending <span class="op">=</span> <span class="cn">NA_real_</span>,</span>
<span>  gammaB <span class="op">=</span> <span class="cn">NA_real_</span>,</span>
<span>  bindingFutility <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  directionUpper <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  betaAdjustment <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  constantBoundsHP <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  twoSidedPower <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  tolerance <span class="op">=</span> <span class="fl">1e-08</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Ensures that all arguments (starting from the "...") are to be named and
that a warning will be displayed if unknown arguments are passed.</p></dd>


<dt id="arg-kmax">kMax<a class="anchor" aria-label="anchor" href="#arg-kmax"></a></dt>
<dd><p>The maximum number of stages <code>K</code>.
Must be a positive integer of length 1 (default value is <code>3</code>).
The maximum selectable <code>kMax</code> is <code>20</code> for group sequential or inverse normal and
<code>6</code> for Fisher combination test designs.</p></dd>


<dt id="arg-alpha">alpha<a class="anchor" aria-label="anchor" href="#arg-alpha"></a></dt>
<dd><p>The significance level alpha, default is <code>0.025</code>. Must be a positive numeric of length 1.</p></dd>


<dt id="arg-beta">beta<a class="anchor" aria-label="anchor" href="#arg-beta"></a></dt>
<dd><p>Type II error rate, necessary for providing sample size calculations
(e.g., <code><a href="getSampleSizeMeans.html">getSampleSizeMeans()</a></code>), beta spending function designs,
or optimum designs, default is <code>0.20</code>. Must be a positive numeric of length 1.</p></dd>


<dt id="arg-sided">sided<a class="anchor" aria-label="anchor" href="#arg-sided"></a></dt>
<dd><p>Is the alternative one-sided (<code>1</code>) or two-sided (<code>2</code>), default is <code>1</code>.
Must be a positive integer of length 1.</p></dd>


<dt id="arg-informationrates">informationRates<a class="anchor" aria-label="anchor" href="#arg-informationrates"></a></dt>
<dd><p>The information rates t_1, ..., t_kMax (that must be fixed prior to the trial),
default is <code>(1:kMax) / kMax</code>. For the weighted inverse normal design, the weights are derived
through w_1 = sqrt(t_1), and w_k = sqrt(t_k - t_(k-1)). For the weighted Fisher's combination test, the
weights (scales) are w_k = sqrt((t_k - t_(k-1)) / t_1) (see the documentation).</p></dd>


<dt id="arg-futilitybounds">futilityBounds<a class="anchor" aria-label="anchor" href="#arg-futilitybounds"></a></dt>
<dd><p>The futility bounds, defined on the test statistic z scale
(numeric vector of length <code>kMax - 1</code>).</p></dd>


<dt id="arg-typeofdesign">typeOfDesign<a class="anchor" aria-label="anchor" href="#arg-typeofdesign"></a></dt>
<dd><p>The type of design. Type of design is one of the following:
O'Brien &amp; Fleming (<code>"OF"</code>), Pocock (<code>"P"</code>), Wang &amp; Tsiatis Delta class (<code>"WT"</code>),
Pampallona &amp; Tsiatis (<code>"PT"</code>), Haybittle &amp; Peto ("HP"),
Optimum design within Wang &amp; Tsiatis class (<code>"WToptimum"</code>),
O'Brien &amp; Fleming type alpha spending (<code>"asOF"</code>), Pocock type alpha spending (<code>"asP"</code>),
Kim &amp; DeMets alpha spending (<code>"asKD"</code>), Hwang, Shi &amp; DeCani alpha spending (<code>"asHSD"</code>),
user defined alpha spending (<code>"asUser"</code>), no early efficacy stop (<code>"noEarlyEfficacy"</code>),
default is <code>"OF"</code>.</p></dd>


<dt id="arg-deltawt">deltaWT<a class="anchor" aria-label="anchor" href="#arg-deltawt"></a></dt>
<dd><p>Delta for Wang &amp; Tsiatis Delta class.</p></dd>


<dt id="arg-deltapt-">deltaPT1<a class="anchor" aria-label="anchor" href="#arg-deltapt-"></a></dt>
<dd><p>Delta1 for Pampallona &amp; Tsiatis class rejecting H0 boundaries.</p></dd>


<dt id="arg-deltapt-">deltaPT0<a class="anchor" aria-label="anchor" href="#arg-deltapt-"></a></dt>
<dd><p>Delta0 for Pampallona &amp; Tsiatis class rejecting H1 boundaries.</p></dd>


<dt id="arg-optimizationcriterion">optimizationCriterion<a class="anchor" aria-label="anchor" href="#arg-optimizationcriterion"></a></dt>
<dd><p>Optimization criterion for optimum design within
Wang &amp; Tsiatis class (<code>"ASNH1"</code>, <code>"ASNIFH1"</code>,
<code>"ASNsum"</code>), default is <code>"ASNH1"</code>, see details.</p></dd>


<dt id="arg-gammaa">gammaA<a class="anchor" aria-label="anchor" href="#arg-gammaa"></a></dt>
<dd><p>Parameter for alpha spending function.</p></dd>


<dt id="arg-typebetaspending">typeBetaSpending<a class="anchor" aria-label="anchor" href="#arg-typebetaspending"></a></dt>
<dd><p>Type of beta spending. Type of of beta spending is one of the following:
O'Brien &amp; Fleming type beta spending, Pocock type beta spending,
Kim &amp; DeMets beta spending, Hwang, Shi &amp; DeCani beta spending, user defined
beta spending (<code>"bsOF"</code>, <code>"bsP"</code>, <code>"bsKD"</code>,
<code>"bsHSD"</code>, <code>"bsUser"</code>, default is <code>"none"</code>).</p></dd>


<dt id="arg-useralphaspending">userAlphaSpending<a class="anchor" aria-label="anchor" href="#arg-useralphaspending"></a></dt>
<dd><p>The user defined alpha spending.
Numeric vector of length <code>kMax</code> containing the cumulative
alpha-spending (Type I error rate) up to each interim stage: <code>0 &lt;= alpha_1 &lt;= ... &lt;= alpha_K &lt;= alpha</code>.</p></dd>


<dt id="arg-userbetaspending">userBetaSpending<a class="anchor" aria-label="anchor" href="#arg-userbetaspending"></a></dt>
<dd><p>The user defined beta spending. Vector of length <code>kMax</code> containing the cumulative
beta-spending up to each interim stage.</p></dd>


<dt id="arg-gammab">gammaB<a class="anchor" aria-label="anchor" href="#arg-gammab"></a></dt>
<dd><p>Parameter for beta spending function.</p></dd>


<dt id="arg-bindingfutility">bindingFutility<a class="anchor" aria-label="anchor" href="#arg-bindingfutility"></a></dt>
<dd><p>Logical. If <code>bindingFutility = TRUE</code> is specified the calculation of
the critical values is affected by the futility bounds and the futility threshold is binding in the
sense that the study must be stopped if the futility condition was reached (default is <code>FALSE</code>).</p></dd>


<dt id="arg-directionupper">directionUpper<a class="anchor" aria-label="anchor" href="#arg-directionupper"></a></dt>
<dd><p>Logical. Specifies the direction of the alternative,
only applicable for one-sided testing; default is <code>TRUE</code>
which means that larger values of the test statistics yield smaller p-values.</p></dd>


<dt id="arg-betaadjustment">betaAdjustment<a class="anchor" aria-label="anchor" href="#arg-betaadjustment"></a></dt>
<dd><p>For two-sided beta spending designs, if <code>betaAdjustement = TRUE</code> a linear
adjustment of the beta spending values is performed if an overlapping of decision regions for futility
stopping at earlier stages occurs, otherwise no adjustment is performed (default is <code>TRUE</code>).</p></dd>


<dt id="arg-constantboundshp">constantBoundsHP<a class="anchor" aria-label="anchor" href="#arg-constantboundshp"></a></dt>
<dd><p>The constant bounds up to stage <code>kMax - 1</code> for the
Haybittle &amp; Peto design (default is <code>3</code>).</p></dd>


<dt id="arg-twosidedpower">twoSidedPower<a class="anchor" aria-label="anchor" href="#arg-twosidedpower"></a></dt>
<dd><p>For two-sided testing, if <code>twoSidedPower = TRUE</code> is specified
the sample size calculation is performed by considering both tails of the distribution.
Default is <code>FALSE</code>, i.e., it is assumed that one tail probability is equal to 0 or the power
should be directed to one part.</p></dd>


<dt id="arg-tolerance">tolerance<a class="anchor" aria-label="anchor" href="#arg-tolerance"></a></dt>
<dd><p>The numerical tolerance, default is <code>1e-08</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns a <code><a href="TrialDesign.html">TrialDesign</a></code> object.
The following generics (R generic functions) are available for this result object:</p><ul><li><p><code><a href="names.FieldSet.html">names()</a></code> to obtain the field names,</p></li>
<li><p><code><a href="print.FieldSet.html">print()</a></code> to print the object,</p></li>
<li><p><code><a href="summary.ParameterSet.html">summary()</a></code> to display a summary of the object,</p></li>
<li><p><code><a href="plot.TrialDesign.html">plot()</a></code> to plot the object,</p></li>
<li><p><code><a href="as.data.frame.TrialDesign.html">as.data.frame()</a></code> to coerce the object to a <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></code>,</p></li>
<li><p><code><a href="as.matrix.FieldSet.html">as.matrix()</a></code> to coerce the object to a <code><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></code>.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Depending on <code>typeOfDesign</code> some parameters are specified, others not.
For example, only if <code>typeOfDesign</code> <code>"asHSD"</code> is selected, <code>gammaA</code> needs to be specified.</p>
<p>If an alpha spending approach was specified (<code>"asOF"</code>, <code>"asP"</code>, <code>"asKD"</code>, <code>"asHSD"</code>, or <code>"asUser"</code>)
additionally a beta spending function can be specified to produce futility bounds.</p>
<p>For optimum designs, <code>"ASNH1"</code> minimizes the expected sample size under H1,
<code>"ASNIFH1"</code> minimizes the sum of the maximum sample and the expected sample size under H1,
and <code>"ASNsum"</code>  minimizes the sum of the maximum sample size, the expected sample size under a value midway H0 and H1,
and the expected sample size under H1.</p>
    </div>
    <div class="section level2">
    <h2 id="how-to-get-help-for-generic-functions">How to get help for generic functions<a class="anchor" aria-label="anchor" href="#how-to-get-help-for-generic-functions"></a></h2>


<p>Click on the link of a generic in the list above to go directly to the help documentation of
the <code>rpact</code> specific implementation of the generic.
Note that you can use the R function <code><a href="https://rdrr.io/r/utils/methods.html" class="external-link">methods</a></code> to get all the methods of a generic and
to identify the object specific name of it, e.g.,
use <code>methods("plot")</code> to get all the methods for the <code>plot</code> generic.
There you can find, e.g., <code>plot.AnalysisResults</code> and
obtain the specific help documentation linked above by typing <code><a href="plot.AnalysisResults.html">?plot.AnalysisResults</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="getDesignSet.html">getDesignSet()</a></code> for creating a set of designs to compare different designs.</p>
<p>Other design functions:
<code><a href="getDesignCharacteristics.html">getDesignCharacteristics</a>()</code>,
<code><a href="getDesignConditionalDunnett.html">getDesignConditionalDunnett</a>()</code>,
<code><a href="getDesignFisher.html">getDesignFisher</a>()</code>,
<code><a href="getDesignGroupSequential.html">getDesignGroupSequential</a>()</code>,
<code><a href="getGroupSequentialProbabilities.html">getGroupSequentialProbabilities</a>()</code>,
<code><a href="getPowerAndAverageSampleNumber.html">getPowerAndAverageSampleNumber</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Calculate two-sided critical values for a four-stage </span></span></span>
<span class="r-in"><span><span class="co"># Wang &amp; Tsiatis design with Delta = 0.25 at level alpha = 0.05</span></span></span>
<span class="r-in"><span><span class="fu">getDesignInverseNormal</span><span class="op">(</span>kMax <span class="op">=</span> <span class="fl">4</span>, alpha <span class="op">=</span> <span class="fl">0.05</span>, sided <span class="op">=</span> <span class="fl">2</span>, </span></span>
<span class="r-in"><span>    typeOfDesign <span class="op">=</span> <span class="st">"WT"</span>, deltaWT <span class="op">=</span> <span class="fl">0.25</span><span class="op">)</span> </span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Defines a two-stage design at one-sided alpha = 0.025 with provision of early stopping  </span></span></span>
<span class="r-in"><span><span class="co"># if the one-sided p-value exceeds 0.5 at interim and no early stopping for efficacy. </span></span></span>
<span class="r-in"><span><span class="co"># The futility bound is non-binding.</span></span></span>
<span class="r-in"><span><span class="fu">getDesignInverseNormal</span><span class="op">(</span>kMax <span class="op">=</span> <span class="fl">2</span>, typeOfDesign <span class="op">=</span> <span class="st">"noEarlyEfficacy"</span>, futilityBounds <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>  </span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Calculate one-sided critical values and binding futility bounds for a three-stage </span></span></span>
<span class="r-in"><span><span class="co"># design with alpha- and beta-spending functions according to Kim &amp; DeMets with gamma = 2.5</span></span></span>
<span class="r-in"><span><span class="co"># (planned informationRates as specified, default alpha = 0.025 and beta = 0.2)</span></span></span>
<span class="r-in"><span><span class="fu">getDesignInverseNormal</span><span class="op">(</span>kMax <span class="op">=</span> <span class="fl">3</span>, informationRates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">0.75</span>, <span class="fl">1</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>    typeOfDesign <span class="op">=</span> <span class="st">"asKD"</span>, gammaA <span class="op">=</span> <span class="fl">2.5</span>, typeBetaSpending <span class="op">=</span> <span class="st">"bsKD"</span>, </span></span>
<span class="r-in"><span>    gammaB <span class="op">=</span> <span class="fl">2.5</span>, bindingFutility <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># } </span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gernot Wassmer, Friedrich Pahlke.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

